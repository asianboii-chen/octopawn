(this.webpackJsonpoctopawn=this.webpackJsonpoctopawn||[]).push([[0],[,,,,,,,,,,,,,function(e,t,i){},function(e,t,i){},,function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){},function(e,t,i){"use strict";i.r(t);var s=i(1),a=i.n(s),n=i(8),r=i.n(n),c=(i(13),i(2)),o=i(3),h=i(5),u=i(4),l=(i(14),i(0));var g=function(e){for(var t=[],i=0;i<48;i++)for(var s=0;s<48;s++){var a=["Background-square",i%2===s%2?"light":"dark"];t.push(Object(l.jsx)("rect",{className:a.join(" "),x:12.5*s+"vmin",y:12.5*i+"vmin"},"square-".concat(i,"-").concat(s)))}var n=["Background",e.isLightTheme?"light":"dark"];return Object(l.jsx)("svg",{className:n.join(" "),children:t})},d=i(6),v=(i(16),i.p+"static/media/white-pawn.7fbab4ab.svg"),S=i.p+"static/media/black-pawn.65485e34.svg",j=i.p+"static/media/white-queen.e195644e.svg",O=i.p+"static/media/black-queen.310fe3e2.svg",f=function(e){Object(h.a)(i,e);var t=Object(u.a)(i);function i(){return Object(c.a)(this,i),t.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return Object(l.jsx)("img",{src:i.IMAGE[this.props.image],className:"Piece",alt:"piece"})}}]),i}(s.Component);f.IMAGE={p:v,P:S,q:j,Q:O};var q=f;i(17);var m=function(e){var t=["Square",e.isLight?"light":"dark",e.isHighlighted?"highlighted":"normal",e.isLegal?"legal":"illegal"];return Object(l.jsxs)("div",{className:t.join(" "),onClick:e.handleClick,children:[e.piece&&Object(l.jsx)("div",{className:"Square-piece",children:Object(l.jsx)(q,{image:e.piece})}),e.yText&&Object(l.jsx)("div",{className:"Square-y-label",children:e.yText}),e.xText&&Object(l.jsx)("div",{className:"Square-x-label",children:e.xText})]})},b=(i(18),function(e){Object(h.a)(i,e);var t=Object(u.a)(i);function i(){var e;Object(c.a)(this,i);for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={squarePieces:new Array(i.BOARD_SIZE).fill(null),isWhiteOnMove:!0,selectedSquareId:-1},e.onMove=e.props.onMove,e._handleSquareClick=function(t){-1===e.state.selectedSquareId?e.setSource(t):e.setTarget(t)},e}return Object(o.a)(i,[{key:"render",value:function(){for(var e=this,t=[],s=function(s){var a=i.getSquareCoords(s),n=Object(d.a)(a,2),r=n[0],c=n[1],o=i.getSquareName(s);t.push(Object(l.jsx)(m,{piece:e.state.squarePieces[s],isLight:i.isSquareLight(s),isHighlighted:s===e.state.selectedSquareId||e.props.highlightedSquares.indexOf(s)>=0,isLegal:e.state.selectedSquareId>=0&&i.isMoveLegal(e.state.squarePieces,e.state.selectedSquareId,s)||!!e.state.squarePieces[s]&&i.isPieceWhite(e.state.squarePieces[s])===e.state.isWhiteOnMove,yText:e.props.showCoords&&0===c&&o[1],xText:e.props.showCoords&&r===i.BOARD_WIDTH-1&&o[0],handleClick:function(){return e._handleSquareClick(s)}},"square-"+s)),c===i.BOARD_WIDTH-1&&t.push(Object(l.jsx)("br",{},"rank-"+r))},a=0;a<i.BOARD_SIZE;a++)s(a);var n=["Board",this.props.isLightTheme?"light":"dark"];return Object(l.jsx)("div",{className:n.join(" "),children:t})}},{key:"setSource",value:function(e){this.state.squarePieces[e]&&i.isPieceWhite(this.state.squarePieces[e])===this.state.isWhiteOnMove&&this.setState({selectedSquareId:e})}},{key:"setTarget",value:function(e){var t=this.state.selectedSquareId;e!==t?this.state.squarePieces[e]&&i.isPieceWhite(this.state.squarePieces[e])===this.state.isWhiteOnMove?this.setState({selectedSquareId:e}):i.isMoveLegal(this.state.squarePieces,t,e)?this.onMove(t,e,i.getNewSquarePieces(this.state.squarePieces,t,e)):this.setState({selectedSquareId:-1}):this.setState({selectedSquareId:-1})}}],[{key:"getSquareCoords",value:function(e){return[Math.floor(e/i.BOARD_WIDTH),e%i.BOARD_WIDTH]}},{key:"isSquareLight",value:function(e){var t=i.getSquareCoords(e),s=Object(d.a)(t,2);return s[0]%2===s[1]%2}},{key:"getSquareName",value:function(e){var t=i.getSquareCoords(e),s=Object(d.a)(t,2),a=s[0],n=s[1];return String.fromCharCode(97+n)+(i.BOARD_HEIGHT-a)}},{key:"isPieceWhite",value:function(e){return e.toLowerCase()===e}},{key:"isMoveLegal",value:function(e,t,s){if(t<0||t>=i.BOARD_SIZE||!e[t]||s<0||s>=i.BOARD_SIZE)return!1;var a=i.getSquareCoords(t),n=Object(d.a)(a,2),r=n[0],c=n[1],o=i.getSquareCoords(s),h=Object(d.a)(o,2),u=h[0],l=h[1],g=e[t],v=e[s];return u===r+Math.pow(-1,i.isPieceWhite(g))&&(1===Math.abs(c-l)?!!v&&i.isPieceWhite(g)!==i.isPieceWhite(v):c===l&&!v)}},{key:"getNewSquarePieces",value:function(e,t,s){var a=e.concat(),n=i.getSquareCoords(s)[0];return 0===n?a[s]="q":n===i.BOARD_HEIGHT-1?a[s]="Q":a[s]=a[t],a[t]=null,a}},{key:"getDerivedStateFromProps",value:function(e,t){return e.squarePieces===t.squarePieces?null:{squarePieces:e.squarePieces,isWhiteOnMove:e.isWhiteOnMove,selectedSquareId:-1}}}]),i}(s.Component));b.BOARD_HEIGHT=4,b.BOARD_WIDTH=4,b.BOARD_SIZE=b.BOARD_WIDTH*b.BOARD_HEIGHT,b.INIT_SQUARE_PIECES=["P","P","P","P",null,null,null,null,null,null,null,null,"p","p","p","p"];var p=b;i(19);var C=function(e){var t=["SettingItem-option",e.isOffLight?"light":"dark",e.value?"inactive":"active"],i=["SettingItem-option",e.isOffLight?"dark":"light",e.value?"active":"inactive"];return Object(l.jsx)("div",{className:"SettingItem",children:Object(l.jsxs)("div",{style:{display:"table",width:"100%",height:"100%"},children:[Object(l.jsx)("div",{className:"SettingItem-title",children:e.title}),Object(l.jsx)("div",{className:t.join(" "),onClick:function(){return e.onChange(!e.value)},children:e.offText}),Object(l.jsx)("div",{className:i.join(" "),onClick:function(){return e.onChange(!e.value)},children:e.onText})]})})};i(20);var I=function(e){var t=["Settings",e.isLightTheme?"light":"dark"];return Object(l.jsxs)("div",{className:t.join(" "),children:[Object(l.jsx)("div",{className:"Settings-title",children:"SETTINGS"}),Object(l.jsx)(C,{title:"Coordinates",isOffLight:!1,offText:"Hide",onText:"Show",value:e.isShowingCoords,onChange:e.onIsShowingCoordsChange}),Object(l.jsx)(C,{title:"Color Theme",isOffLight:!1,offText:"Dark",onText:"Light",value:e.isLightTheme,onChange:e.onIsLightThemeChange})]})},T=(i(21),function(e){Object(h.a)(i,e);var t=Object(u.a)(i);function i(){var e;Object(c.a)(this,i);for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))).state={isLightTheme:!1,isShowingCoords:!0,squarePieces:p.INIT_SQUARE_PIECES.concat(),isWhiteOnMove:!0,highlightedSquares:[]},e._handleIsLightThemeChange=function(t){e.setState({isLightTheme:t})},e._handleIsShowingCoordsChange=function(t){e.setState({isShowingCoords:t})},e._handleMove=function(t,i,s){console.log(e.state.isWhiteOnMove?"White plays":"Black plays","".concat(p.getSquareName(t),"-").concat(p.getSquareName(i))),e.setState((function(e){return{squarePieces:s,isWhiteOnMove:!e.isWhiteOnMove,highlightedSquares:[t,i]}}))},e}return Object(o.a)(i,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(g,{isLightTheme:this.state.isLightTheme}),Object(l.jsx)(p,{isLightTheme:this.state.isLightTheme,showCoords:this.state.isShowingCoords,squarePieces:this.state.squarePieces,isWhiteOnMove:this.state.isWhiteOnMove,highlightedSquares:this.state.highlightedSquares,onMove:this._handleMove}),Object(l.jsx)(I,{isLightTheme:this.state.isLightTheme,isShowingCoords:this.state.isShowingCoords,onIsLightThemeChange:this._handleIsLightThemeChange,onIsShowingCoordsChange:this._handleIsShowingCoordsChange})]})}}]),i}(s.Component)),x=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,23)).then((function(t){var i=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;i(e),s(e),a(e),n(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(T,{})}),document.getElementById("root")),x()}],[[22,1,2]]]);
//# sourceMappingURL=main.3c69c2db.chunk.js.map